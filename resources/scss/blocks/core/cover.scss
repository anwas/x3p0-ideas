////
/// Cover block CSS.
///
/// @author Justin Tadlock <justintadlock@gmail.com>
/// @link   https://github.com/x3p0-dev/x3p0-ideas
////

// -----------------------------------------------------------------------------
// Block customizations.
// -----------------------------------------------------------------------------

.wp-block-cover {
	padding-left: var( --wp--preset--spacing--plus-3 );
	padding-right: var( --wp--preset--spacing--plus-3 );
}

.wp-block-cover:where( :not( [style*=padding] ) ) .wp-block-cover__inner-container.has-global-padding {
	padding-left: var( --wp--preset--spacing--plus-3 );
	padding-right: var( --wp--preset--spacing--plus-3 );
}

.wp-block-cover:has( .wp-block-cover__inner-container.has-global-padding ) {
	padding: 0;
}

:where( .wp-block-cover .wp-block-heading ) {
	text-shadow: var( --wp--custom--text-shadow--sm );
}

// -----------------------------------------------------------------------------
// Block style variations.
// -----------------------------------------------------------------------------

// Hover reveal block style.
.wp-block-cover.is-style-hover-reveal {
	.wp-block-cover__image-background {
		opacity: 0;
		transition: opacity 0.5s ease-in-out;
	}

	&:hover,
	&:focus {
		.wp-block-cover__image-background {
			opacity: 1;
		}
	}
}

.wp-block-cover.is-style-stretch {
	align-items: stretch;
}

.wp-block-cover.is-style-stretch .wp-block-cover__inner-container {
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}


.wp-block-cover[class*=is-style-polygon] {
	--polygon-quad-spacer: 0;
	--polygon-quad-1-xy: 0 0;
	--polygon-quad-2-xy: 100% 0;
	--polygon-quad-3-xy: 100% 100%;
	--polygon-quad-4-xy: 0 100%;

	clip-path: polygon(
		var( --polygon-quad-1-xy ),
		var( --polygon-quad-2-xy ),
		var( --polygon-quad-3-xy ),
		var( --polygon-quad-4-xy )
	);
}

.is-style-polygon-slant-up-sm + .is-style-polygon-slant-up-sm,
.is-style-polygon-slant-up-md + .is-style-polygon-slant-up-md,
.is-style-polygon-slant-down-sm + .is-style-polygon-slant-down-sm,
.is-style-polygon-slant-down-md + .is-style-polygon-slant-down-md {
	margin-top: var( --polygon-quad-spacer );
}

.wp-block-cover.is-style-polygon-slant-up-sm {
	--polygon-quad-spacer: -4rem;
	--polygon-quad-1-xy: 0 4rem;
	--polygon-quad-3-xy: 100% calc( 100% - 4rem );
}

.wp-block-cover.is-style-polygon-slant-up-md {
	--polygon-quad-spacer: -8rem;
	--polygon-quad-1-xy: 0 8rem;
	--polygon-quad-3-xy: 100% calc( 100% - 8rem );
}

.wp-block-cover.is-style-polygon-slant-down-sm {
	--polygon-quad-spacer: -4rem;
	--polygon-quad-2-xy: 100% 4rem;
	--polygon-quad-4-xy: 0 calc( 100% - 4rem );
}

.wp-block-cover.is-style-polygon-slant-down-md {
	--polygon-quad-spacer: -8rem;
	--polygon-quad-2-xy: 100% 8rem;
	--polygon-quad-4-xy: 0 calc( 100% - 8rem );
}
